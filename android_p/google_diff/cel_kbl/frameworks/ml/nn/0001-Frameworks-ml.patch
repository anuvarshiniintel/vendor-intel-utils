From b986a809c3ae1e245ff6babce515714d78de8f2a Mon Sep 17 00:00:00 2001
From: anuvarsh <anuvarshini.bc@intel.com>
Date: Fri, 26 Apr 2019 12:00:19 +0530
Subject: [PATCH] Frameworks ml

Change-Id: I5f4e5d6b3f7f4b4a065cfc69f8132a84f0ad000e
Tracked-On: None
Signed-off-by: anuvarsh <anuvarshini.bc@intel.com>
---
 nn/Android.bp | 13 ++++++++++++-
 1 file changed, 12 insertions(+), 1 deletion(-)

diff --git a/nn/Android.bp b/nn/Android.bp
index 1b04d7d8..520694ec 100644
--- a/nn/Android.bp
+++ b/nn/Android.bp
@@ -21,8 +21,19 @@ cc_defaults {
         "-Wextra",
         "-Werror",
         "-O3",
-	"-march=haswell",
     ],
+    arch: {
+        x86: {
+           avx2: {
+                  cflags: ["-mavx2","-mfma"],
+                 },
+           },
+        x86_64: {
+           avx2: {
+                  cflags: ["-mavx2","-mfma"],
+                 },
+           },
+    },	
     product_variables: {
         debuggable: {  // eng and userdebug builds
             cflags: ["-DNN_DEBUGGABLE"],
-- 
2.21.0

